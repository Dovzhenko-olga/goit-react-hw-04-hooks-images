{"version":3,"sources":["App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","services/images-api.js","components/Container/Container.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","api","fetchImages","searchQuery","currentPage","pageSize","get","then","data","hits","Container","children","className","styles","container","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","Item","src","alt","Image","ImageGallery","map","id","Searchbar","onSubmit","useState","query","setQuery","SearchForm","e","preventDefault","trim","toast","toaster","type","button","label","input","value","autoComplete","autoFocus","placeholder","onChange","currentTarget","Button","Modal","onClose","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","Overlay","target","App","setHits","setCurrentPage","setSearchQuery","isLoading","setIsLoading","showModal","setShowModal","setLargeImageURL","setTags","toggleModal","options","imagesApi","images","length","info","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","shouldRenderLoadMoreButton","color","height","width","Loader","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,OAAS,sB,mBCA3BD,EAAOC,QAAU,CAAC,KAAO,+BAA+B,MAAQ,kC,mBCAhED,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,UAAY,+B,mBCA9BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,uCCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,OAAS,0BAA0B,MAAQ,yBAAyB,MAAQ,yBAAyB,QAAU,6B,iJCCrNC,IAAMC,SAASC,QAAU,0BACzB,IAceC,EAJH,CACVC,YATkB,SAAC,GAA0D,IAAD,IAAvDC,mBAAuD,MAAzC,GAAyC,MAArCC,mBAAqC,MAAvB,EAAuB,MAApBC,gBAAoB,MAAT,GAAS,EAC5E,OAAOP,IACJQ,IADI,gBAHO,qCAGP,cACsBH,EADtB,uBAEGC,EAFH,6DAEmEC,IAEvEE,MAAK,qBAAEC,KAAeC,U,wBCCZC,EARG,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OAChB,qBAAKC,UAAWC,IAAOC,UAAvB,SAAmCH,K,kCCetBI,EAhBU,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAeC,EAAhC,EAAgCA,KAAMC,EAAtC,EAAsCA,QAAtC,OACvB,oBAAIP,UAAWC,IAAOO,KAAtB,SACE,qBACEC,IAAKL,EACLM,IAAKJ,EACLN,UAAWC,IAAOU,MAClBJ,QAAS,kBAAMA,EAAQ,CAAEF,gBAAeC,eCU/BM,EAfM,SAAC,GAAuB,IAArBf,EAAoB,EAApBA,KAAMU,EAAc,EAAdA,QAC5B,OACE,oBAAIP,UAAWC,IAAOW,aAAtB,SACGf,EAAKgB,KAAI,gBAAGC,EAAH,EAAGA,GAAIR,EAAP,EAAOA,KAAMF,EAAb,EAAaA,aAAcC,EAA3B,EAA2BA,cAA3B,OACR,cAAC,EAAD,CAA2BC,KAAMA,EAAMF,aAAcA,EAAcC,cAAeA,EAAeE,QAASA,GAAnFO,S,gBCJhB,SAASC,EAAT,GAAgC,IAAZC,EAAW,EAAXA,SACjC,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAkBA,OACE,wBAAQnB,UAAWC,IAAOc,UAA1B,SACE,uBAAMf,UAAWC,IAAOmB,WAAYJ,SAdnB,SAAAK,GAGnB,GAFAA,EAAEC,iBAEmB,KAAjBJ,EAAMK,OACR,OAAOC,YAAM,2BAA4B,CACvCxB,UAAWC,IAAOwB,UAGtBT,EAASE,GACTC,EAAS,KAKP,UACE,wBAAQO,KAAK,SAAS1B,UAAWC,IAAO0B,OAAxC,SACE,sBAAM3B,UAAWC,IAAO2B,MAAxB,sBAGF,uBACE5B,UAAWC,IAAO4B,MAClBC,MAAOZ,EACPQ,KAAK,OACLK,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SA9Ba,SAAAb,GACrBF,EAASE,EAAEc,cAAcL,e,qBCQZM,EAbA,SAAC,GAAD,IAAE7B,EAAF,EAAEA,QAAF,OACb,wBACEmB,KAAK,SACL1B,UAAWC,IAAOmC,OAClB7B,QAASA,EAHX,wB,iBCDa,SAAS8B,EAAT,GAAqC,IAArBC,EAAoB,EAApBA,QAASvC,EAAW,EAAXA,SAEhCwC,EAAgB,SAAAlB,GACF,WAAXA,EAAEmB,MACJF,KAIPG,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWJ,GAC5B,kBAAMG,OAAOE,oBAAoB,UAAWL,MAElD,IAQH,OACE,qBAAKvC,UAAWC,IAAO4C,QAAStC,QAPN,SAAAc,GACtBA,EAAEc,gBAAkBd,EAAEyB,QACxBR,KAKF,SACE,qBAAKtC,UAAWC,IAAOoC,MAAvB,SACGtC,M,iCCZM,SAASgD,IACtB,MAAwB9B,mBAAS,IAAjC,mBAAOpB,EAAP,KAAamD,EAAb,KACA,EAAsC/B,mBAAS,GAA/C,mBAAOzB,EAAP,KAAoByD,EAApB,KACA,EAAsChC,mBAAS,IAA/C,mBAAO1B,EAAP,KAAoB2D,EAApB,KACA,EAAkCjC,oBAAS,GAA3C,mBAAOkC,EAAP,KAAkBC,EAAlB,KACA,EAAkCnC,oBAAS,GAA3C,mBAAOoC,EAAP,KAAkBC,EAAlB,KACA,EAA0CrC,mBAAS,IAAnD,mBAAOZ,EAAP,KAAsBkD,EAAtB,KACA,EAAwBtC,mBAAS,IAAjC,mBAAOX,EAAP,KAAakD,EAAb,KAEAf,qBAAU,WACHlD,GAILD,MAEC,CAACC,IAGJ,IAYIkE,EAAc,WAClBH,GAAcD,IAGR/D,EAAc,WAEpB8D,GAAa,GAEX,IAAMM,EAAU,CAAEnE,cAAaC,eAE/BmE,EAAUrE,YAAYoE,GACnB/D,MAAK,SAAAiE,GACkB,IAAlBA,EAAOC,QACTrC,IAAMsC,KAAK,aAAc,CACvB9D,UAAWC,IAAOwB,UAGtBuB,EAAQ,GAAD,mBAAKnD,GAAL,YAAc+D,KACrBX,EAAezD,EAAc,MAE9BG,MAAK,WACJ+C,OAAOqB,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,cAGbC,OAAM,WACL7C,IAAMsC,KAAK,aAAc,CACvB9D,UAAWC,IAAOwB,aAGrB6C,SAAQ,kBAAMlB,GAAa,OAG1BmB,EAA6B1E,EAAKgE,OAAS,IAAMV,EAErD,OACE,eAAC,EAAD,WAEE,cAACpC,EAAD,CAAWC,SAnDK,SAAAE,GACpBgC,EAAehC,GACf+B,EAAe,GACfD,EAAQ,OAiDJ,cAAC,EAAD,CAAcnD,KAAMA,EAAMU,QA9ChB,SAAC,GAA6B,IAA3BF,EAA0B,EAA1BA,cAAeC,EAAW,EAAXA,KAChCiD,EAAiBlD,GACjBmD,EAAQlD,GACRmD,OA6CKc,GAA8B,cAAC,EAAD,CAAQhE,QAASjB,IAE/C6D,GACC,cAAC,IAAD,CACEzB,KAAK,eACL8C,MAAM,UACNC,OAAQ,IACRC,MAAO,IACP1E,UAAWC,IAAO0E,SAGrBtB,GAAc,cAAChB,EAAD,CAAOC,QAASmB,EAAhB,SACZ,qBAAKhD,IAAKJ,EAAeK,IAAKJ,MAGjC,cAAC,IAAD,CAAgBsE,UAAW,SChGnCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAChC,EAAD,MAEFkB,SAASe,eAAe,W","file":"static/js/main.51f5828f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"App_Loader__3JY3K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__1lrOg\",\"Image\":\"ImageGalleryItem_Image__3myD_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__GXPl5\",\"Modal\":\"Modal_Modal__kpRSg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1Hh6V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2P-Ti\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3XNkm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__5LkVR\",\"SearchForm\":\"Searchbar_SearchForm__1hwb_\",\"button\":\"Searchbar_button__1BOmt\",\"label\":\"Searchbar_label__1qwxm\",\"input\":\"Searchbar_input__2eXkb\",\"toaster\":\"Searchbar_toaster__3-cgz\"};","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\nconst API_KEY = '21858854-4e72a628a4c4c72c060e1a9f9';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) => {\r\n  return axios\r\n    .get(`/?key=${API_KEY}&q=${searchQuery}\r\n    &page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\r\n    )\r\n    .then(({data}) => data.hits);\r\n};\r\n\r\nconst api = {\r\n  fetchImages,\r\n}\r\n\r\nexport default api;","import PropTypes from 'prop-types';\r\nimport styles from './Container.module.css';\r\n\r\nconst Container = ({ children }) =>\r\n  <div className={styles.container}>{children}\r\n  </div>;\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;","import PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, onClick }) => (\r\n  <li className={styles.Item}>\r\n    <img\r\n      src={webformatURL}\r\n      alt={tags}\r\n      className={styles.Image}\r\n      onClick={() => onClick({ largeImageURL, tags })} />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ hits, onClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {hits.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem key={id} tags={tags} webformatURL={webformatURL} largeImageURL={largeImageURL} onClick={onClick} />\r\n      ))}\r\n    </ul >\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  hits: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default function Searchbar({onSubmit}) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleChange = e => {\r\n  setQuery(e.currentTarget.value)\r\n  }\r\n  \r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (query.trim() === '') {\r\n      return toast('Enter a value to search.', {\r\n        className: styles.toaster\r\n      });\r\n    }\r\n    onSubmit(query);\r\n    setQuery('')\r\n  }\r\n\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={styles.button}>\r\n          <span className={styles.label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.input}\r\n          value={query}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n    );\r\n  }","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({onClick}) => (\r\n  <button\r\n    type=\"button\"\r\n    className={styles.Button}\r\n    onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import { useEffect } from 'react';\r\nimport styles from './Modal.module.css';\r\n\r\nexport default function Modal({onClose, children}) {\r\n\r\n  const handleKeyDown = e => {\r\n       if (e.code === 'Escape') {\r\n         onClose();\r\n       }\r\n   }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\r\n      <div className={styles.Modal}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n  }","import { useEffect, useState } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport Loader from \"react-loader-spinner\";\r\nimport imagesApi from './services/images-api';\r\nimport Container from './components/Container';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Searchbar from './components/Searchbar';\r\nimport Button from './components/Button';\r\nimport Modal from './components/Modal';\r\n\r\nimport styles from './App.module.css';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function App() {\r\n  const [hits, setHits] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [largeImageURL, setLargeImageURL] = useState('');\r\n  const [tags, setTags] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (!searchQuery) {\r\n      return;\r\n    }\r\n    \r\n    fetchImages();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchQuery]);\r\n\r\n  \r\n  const onChangeQuery = query => {\r\n    setSearchQuery(query);\r\n    setCurrentPage(1);\r\n    setHits([]);\r\n  };\r\n\r\n  const onModal = ({ largeImageURL, tags }) => {\r\n    setLargeImageURL(largeImageURL);\r\n    setTags(tags);\r\n    toggleModal();\r\n  };\r\n\r\nconst toggleModal = () => {\r\n  setShowModal(!showModal);\r\n  };\r\n\r\n  const fetchImages = () => {\r\n    \r\n  setIsLoading(true);\r\n  \r\n    const options = { searchQuery, currentPage };\r\n\r\n    imagesApi.fetchImages(options)\r\n      .then(images => {\r\n        if (images.length === 0) {\r\n          toast.info('Try again!', {\r\n            className: styles.toaster\r\n          })\r\n        }\r\n        setHits([...hits, ...images]);\r\n        setCurrentPage(currentPage + 1);\r\n      })\r\n      .then(() => {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      })\r\n      .catch(() => {\r\n        toast.info('Try again!', {\r\n          className: styles.toaster\r\n        })\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }  \r\n\r\n  const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\r\n\r\n    return (\r\n      <Container>\r\n        \r\n        <Searchbar onSubmit={onChangeQuery} />\r\n        <ImageGallery hits={hits} onClick={onModal}/>\r\n          \r\n        {shouldRenderLoadMoreButton && <Button onClick={fetchImages} />}\r\n\r\n        {isLoading &&\r\n          <Loader\r\n            type=\"BallTriangle\"\r\n            color=\"#00BFFF\"\r\n            height={200}\r\n            width={200}\r\n            className={styles.Loader}\r\n          />}\r\n        \r\n        {showModal && (<Modal onClose={toggleModal}>\r\n           <img src={largeImageURL} alt={tags} />\r\n        </Modal>\r\n        )}\r\n        <ToastContainer autoClose={3000} />\r\n      </Container>\r\n    );\r\n  }\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}