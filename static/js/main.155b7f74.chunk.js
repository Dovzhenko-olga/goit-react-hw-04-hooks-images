(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Loader:"App_Loader__3JY3K"}},13:function(e,t,a){e.exports={Item:"ImageGalleryItem_Item__1lrOg",Image:"ImageGalleryItem_Image__3myD_"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__GXPl5",Modal:"Modal_Modal__kpRSg"}},25:function(e,t,a){e.exports={container:"Container_container__1Hh6V"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2P-Ti"}},27:function(e,t,a){e.exports={Button:"Button_Button__3XNkm"}},33:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__5LkVR",SearchForm:"Searchbar_SearchForm__1hwb_",button:"Searchbar_button__1BOmt",label:"Searchbar_label__1qwxm",input:"Searchbar_input__2eXkb",toaster:"Searchbar_toaster__3-cgz"}},75:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),o=a.n(r),s=(a(32),a(33),a(15)),i=a(4),l=a(6),u=a(24),b=a.n(u),m=a(12),j=a.n(m);j.a.defaults.baseURL="https://pixabay.com/api";var h={fetchImages:function(e){var t=e.searchQuery,a=void 0===t?"":t,n=e.currentPage,c=void 0===n?1:n,r=e.pageSize,o=void 0===r?12:r;return j.a.get("/?key=".concat("21858854-4e72a628a4c4c72c060e1a9f9","&q=").concat(a,"\n    &page=").concat(c,"&image_type=photo&orientation=horizontal&per_page=").concat(o)).then((function(e){return e.data.hits}))}},g=a(25),f=a.n(g),d=a(1),O=function(e){var t=e.children;return Object(d.jsx)("div",{className:f.a.container,children:t})},_=a(26),p=a.n(_),v=a(13),x=a.n(v),S=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,c=e.onClick;return Object(d.jsx)("li",{className:x.a.Item,children:Object(d.jsx)("img",{src:t,alt:n,className:x.a.Image,onClick:function(){return c({largeImageURL:a,tags:n})}})})},y=function(e){var t=e.hits,a=e.onClick;return Object(d.jsx)("ul",{className:p.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.tags,c=e.webformatURL,r=e.largeImageURL;return Object(d.jsx)(S,{tags:n,webformatURL:c,largeImageURL:r,onClick:a},t)}))})},I=a(5),k=a.n(I);function w(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(d.jsx)("header",{className:k.a.Searchbar,children:Object(d.jsxs)("form",{className:k.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===r.trim())return Object(l.b)("Enter a value to search.",{className:k.a.toaster});t(r),o("")},children:[Object(d.jsx)("button",{type:"submit",className:k.a.button,children:Object(d.jsx)("span",{className:k.a.label,children:"Search"})}),Object(d.jsx)("input",{className:k.a.input,value:r,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value)}})]})})}var N=a(27),L=a.n(N),C=function(e){var t=e.onClick;return Object(d.jsx)("button",{type:"button",className:L.a.Button,onClick:t,children:"Load more"})},R=a(14),U=a.n(R);function B(e){var t=e.onClose,a=e.children,c=function(e){"Escape"===e.code&&t()};Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){return window.removeEventListener("keydown",c)}}),[]);return Object(d.jsx)("div",{className:U.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:U.a.Modal,children:a})})}var E=a(10),F=a.n(E);a(73),a(74);function G(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(i.a)(r,2),u=o[0],m=o[1],j=Object(n.useState)(""),g=Object(i.a)(j,2),f=g[0],_=g[1],p=Object(n.useState)(!1),v=Object(i.a)(p,2),x=v[0],S=v[1],I=Object(n.useState)(!1),k=Object(i.a)(I,2),N=k[0],L=k[1],R=Object(n.useState)(""),U=Object(i.a)(R,2),E=U[0],G=U[1],T=Object(n.useState)(""),M=Object(i.a)(T,2),P=M[0],z=M[1];Object(n.useEffect)((function(e){f&&e!==f&&X()}),[f]);var J=function(){L(!N)},X=function(){S(!0);var e={searchQuery:f,currentPage:u};h.fetchImages(e).then((function(e){0===e.length&&l.b.info("Try again!",{className:F.a.toaster}),c([].concat(Object(s.a)(a),Object(s.a)(e))),m(u+1)})).then((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(){l.b.info("Try again!",{className:F.a.toaster})})).finally((function(){return S(!1)}))},q=a.length>0&&!x;return Object(d.jsxs)(O,{children:[Object(d.jsx)(w,{onSubmit:function(e){_(e),m(1),c([])}}),Object(d.jsx)(y,{hits:a,onClick:function(e){var t=e.largeImageURL,a=e.tags;G(t),z(a),J()}}),q&&Object(d.jsx)(C,{onClick:X}),x&&Object(d.jsx)(b.a,{type:"BallTriangle",color:"#00BFFF",height:200,width:200,className:F.a.Loader}),N&&Object(d.jsx)(B,{onClose:J,children:Object(d.jsx)("img",{src:E,alt:P})}),Object(d.jsx)(l.a,{autoClose:3e3})]})}o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(G,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.155b7f74.chunk.js.map